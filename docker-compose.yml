version: "3.4"

services:
  spreadsheet-server:
    name: spreadsheet-server
    build: . # Uses local Dockerfile
    environment:
      SYNCFUSION_LICENSE_KEY: ${SYNCFUSION_LICENSE_KEY}
      LC_ALL: de_DE.UTF-8
      LANGUAGE: de_DE.UTF-8
      LANG: de_DE.UTF-8
    # Removed port exposure - now internal only

  nginx:
    image: nginx:latest
    container_name: nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/conf.d/default.conf
    depends_on:
      - spreadsheet-server
